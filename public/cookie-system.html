<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema Cookie GDPR - DCreativo Solutions</title>

  <!-- Meta Tags SEO -->
  <meta name="description" content="Sistema di gestione cookie GDPR compliant per DCreativo Solutions. Privacy Policy, Terms of Service e Cookie Policy in conformitÃ  alle normative europee.">
  <meta name="robots" content="noindex, nofollow">

  <style>
    /* CSS Variables - Meta Style Colors */
    :root {
      --primary-blue: #1877f2;
      --primary-blue-hover: #166fe5;
      --secondary-blue: #42a5f5;
      --success-green: #4caf50;
      --warning-orange: #ff9800;
      --danger-red: #f44336;
      --dark-gray: #1c1e21;
      --medium-gray: #65676b;
      --light-gray: #f0f2f5;
      --white: #ffffff;
      --shadow-light: 0 2px 12px rgba(0, 0, 0, 0.1);
      --shadow-medium: 0 4px 20px rgba(0, 0, 0, 0.15);
      --shadow-heavy: 0 8px 32px rgba(0, 0, 0, 0.2);
      --border-radius: 12px;
      --border-radius-lg: 16px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --z-cookie-banner: 1000;
      --z-modal: 1050;
      --z-modal-backdrop: 1040;
    }

    /* Reset e Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: var(--dark-gray);
      background-color: var(--light-gray);
      overflow-x: hidden;
    }

    /* Animazioni */
    @keyframes slideUp {
      from {
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes modalSlide {
      from {
        transform: translate(-50%, -50%) scale(0.95);
        opacity: 0;
      }
      to {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* Cookie Banner */
    .cookie-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, var(--white) 0%, #f8f9fa 100%);
      border-top: 3px solid var(--primary-blue);
      box-shadow: var(--shadow-heavy);
      padding: 20px;
      z-index: var(--z-cookie-banner);
      transform: translateY(100%);
      transition: var(--transition);
      backdrop-filter: blur(10px);
    }

    .cookie-banner.show {
      transform: translateY(0);
      animation: slideUp 0.5s ease-out;
    }

    .cookie-banner-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .cookie-banner-content {
      flex: 1;
      min-width: 300px;
    }

    .cookie-banner h3 {
      color: var(--dark-gray);
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .cookie-banner p {
      color: var(--medium-gray);
      font-size: 14px;
      line-height: 1.5;
      margin-bottom: 12px;
    }

    .cookie-banner-links {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .cookie-banner-links a {
      color: var(--primary-blue);
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      transition: var(--transition);
      border-bottom: 1px solid transparent;
    }

    .cookie-banner-links a:hover {
      color: var(--primary-blue-hover);
      border-bottom-color: var(--primary-blue-hover);
    }

    .cookie-banner-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }

    /* Buttons */
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: var(--border-radius);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
      min-width: 120px;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
      color: var(--white);
      box-shadow: var(--shadow-light);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-medium);
    }

    .btn-secondary {
      background: var(--white);
      color: var(--medium-gray);
      border: 2px solid #e0e0e0;
    }

    .btn-secondary:hover {
      background: var(--light-gray);
      border-color: var(--primary-blue);
      color: var(--primary-blue);
    }

    .btn-settings {
      background: linear-gradient(135deg, var(--warning-orange) 0%, #f57c00 100%);
      color: var(--white);
    }

    .btn-settings:hover {
      transform: translateY(-2px);
      animation: pulse 1s infinite;
    }

    /* Modal Backdrop */
    .modal-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: var(--z-modal-backdrop);
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      backdrop-filter: blur(4px);
    }

    .modal-backdrop.show {
      opacity: 1;
      visibility: visible;
      animation: fadeIn 0.3s ease-out;
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.95);
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      background: var(--white);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-heavy);
      z-index: var(--z-modal);
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
    }

    .modal.show {
      opacity: 1;
      visibility: visible;
      transform: translate(-50%, -50%) scale(1);
      animation: modalSlide 0.4s ease-out;
    }

    .modal-header {
      padding: 24px 24px 0;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .modal-title {
      font-size: 24px;
      font-weight: 700;
      color: var(--dark-gray);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--medium-gray);
      transition: var(--transition);
      padding: 8px;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      background: var(--light-gray);
      color: var(--danger-red);
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 0 24px;
      overflow-y: auto;
      flex: 1;
    }

    .modal-footer {
      padding: 20px 24px 24px;
      border-top: 1px solid #e0e0e0;
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      flex-wrap: wrap;
    }

    /* Cookie Settings */
    .cookie-category {
      background: var(--white);
      border: 2px solid #e0e0e0;
      border-radius: var(--border-radius);
      margin-bottom: 16px;
      overflow: hidden;
      transition: var(--transition);
    }

    .cookie-category:hover {
      border-color: var(--primary-blue);
      box-shadow: var(--shadow-light);
    }

    .cookie-category-header {
      padding: 20px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: var(--transition);
    }

    .cookie-category-header:hover {
      background: var(--light-gray);
    }

    .cookie-category-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--dark-gray);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .cookie-category-toggle {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .cookie-category-content {
      padding: 0 20px;
      max-height: 0;
      overflow: hidden;
      transition: var(--transition);
    }

    .cookie-category.expanded .cookie-category-content {
      max-height: 500px;
      padding: 0 20px 20px;
    }

    .cookie-category-description {
      color: var(--medium-gray);
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 16px;
    }

    .cookie-list {
      background: var(--light-gray);
      border-radius: var(--border-radius);
      padding: 16px;
    }

    .cookie-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #e0e0e0;
    }

    .cookie-item:last-child {
      border-bottom: none;
    }

    .cookie-item-info h4 {
      font-size: 14px;
      font-weight: 600;
      color: var(--dark-gray);
      margin-bottom: 4px;
    }

    .cookie-item-info p {
      font-size: 12px;
      color: var(--medium-gray);
    }

    /* Toggle Switch */
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: #ccc;
      transition: var(--transition);
      border-radius: 34px;
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background: var(--white);
      transition: var(--transition);
      border-radius: 50%;
      box-shadow: var(--shadow-light);
    }

    input:checked + .toggle-slider {
      background: var(--primary-blue);
    }

    input:checked + .toggle-slider:before {
      transform: translateX(26px);
    }

    input:disabled + .toggle-slider {
      background: #e0e0e0;
      cursor: not-allowed;
    }

    /* Content Sections */
    .content-section {
      margin-bottom: 32px;
    }

    .content-section h2 {
      font-size: 20px;
      font-weight: 600;
      color: var(--dark-gray);
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--primary-blue);
    }

    .content-section h3 {
      font-size: 16px;
      font-weight: 600;
      color: var(--dark-gray);
      margin: 20px 0 12px;
    }

    .content-section p {
      color: var(--medium-gray);
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .content-section ul {
      margin-left: 20px;
      margin-bottom: 16px;
    }

    .content-section li {
      color: var(--medium-gray);
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 8px;
    }

    /* Status Indicators */
    .status-indicator {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .status-active {
      background: #e8f5e8;
      color: var(--success-green);
    }

    .status-inactive {
      background: #ffeaa7;
      color: var(--warning-orange);
    }

    .status-required {
      background: #ffebee;
      color: var(--danger-red);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .cookie-banner {
        padding: 16px;
      }

      .cookie-banner-container {
        flex-direction: column;
        gap: 16px;
      }

      .cookie-banner-actions {
        width: 100%;
        justify-content: center;
      }

      .btn {
        flex: 1;
        min-width: auto;
      }

      .modal {
        width: 95%;
        max-height: 95vh;
      }

      .modal-header {
        padding: 20px 16px 0;
      }

      .modal-body {
        padding: 0 16px;
      }

      .modal-footer {
        padding: 16px;
        flex-direction: column;
      }

      .modal-footer .btn {
        width: 100%;
      }

      .cookie-category-header {
        padding: 16px;
      }

      .cookie-category-content {
        padding: 0 16px;
      }

      .cookie-category.expanded .cookie-category-content {
        padding: 0 16px 16px;
      }
    }

    @media (max-width: 480px) {
      .cookie-banner h3 {
        font-size: 16px;
      }

      .cookie-banner p {
        font-size: 13px;
      }

      .modal-title {
        font-size: 20px;
      }

      .cookie-category-title {
        font-size: 14px;
      }
    }

    /* Dark Mode Support */
    @media (prefers-color-scheme: dark) {
      :root {
        --dark-gray: #e4e6ea;
        --medium-gray: #b0b3b8;
        --light-gray: #18191a;
        --white: #242526;
      }

      .cookie-banner {
        background: linear-gradient(135deg, #242526 0%, #18191a 100%);
      }

      .modal {
        background: #242526;
      }

      .cookie-category {
        background: #18191a;
        border-color: #3a3b3c;
      }

      .cookie-list {
        background: #242526;
      }
    }

    /* Accessibility */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Print Styles */
    @media print {
      .cookie-banner,
      .modal-backdrop,
      .modal {
        display: none !important;
      }
    }
  </style>
</head>
<body>

  <!-- Cookie Banner -->
  <div id="cookieBanner" class="cookie-banner">
    <div class="cookie-banner-container">
      <div class="cookie-banner-content">
        <h3>ðª Gestione Cookie</h3>
        <p>
          Utilizziamo cookie per migliorare la tua esperienza sul nostro sito web.
          I cookie necessari sono sempre attivi per garantire il funzionamento del sito.
        </p>
        <div class="cookie-banner-links">
          <a href="#" onclick="openModal('privacyModal')">Privacy Policy</a>
          <a href="#" onclick="openModal('termsModal')">Terms of Service</a>
          <a href="#" onclick="openModal('cookieModal')">Cookie Policy</a>
        </div>
      </div>
      <div class="cookie-banner-actions">
        <button class="btn btn-secondary" onclick="acceptOnlyNecessary()">
          Solo Necessari
        </button>
        <button class="btn btn-settings" onclick="openCookieSettings()">
          âï¸ Personalizza
        </button>
        <button class="btn btn-primary" onclick="acceptAllCookies()">
          â Accetta Tutti
        </button>
      </div>
    </div>
  </div>

  <!-- Modal Backdrop -->
  <div id="modalBackdrop" class="modal-backdrop" onclick="closeAllModals()"></div>

  <!-- Privacy Policy Modal -->
  <div id="privacyModal" class="modal">
    <div class="modal-header">
      <h2 class="modal-title">ð Privacy Policy</h2>
      <button class="modal-close" onclick="closeModal('privacyModal')">&times;</button>
    </div>
    <div class="modal-body">
      <div class="content-section">
        <h2>Informativa sulla Privacy</h2>
        <p><strong>Ultimo aggiornamento:</strong> 27 Maggio 2025</p>
        <p>
          DCreativo Web & App Solutions ("noi", "nostro" o "DCreativo") si impegna a proteggere la tua privacy.
          Questa Privacy Policy spiega come raccogliamo, utilizziamo e proteggiamo le tue informazioni personali.
        </p>
      </div>

      <div class="content-section">
        <h2>1. Informazioni che Raccogliamo</h2>
        <h3>Informazioni fornite volontariamente:</h3>
        <ul>
          <li>Nome e cognome</li>
          <li>Indirizzo email</li>
          <li>Numero di telefono</li>
          <li>Informazioni aziendali</li>
          <li>Messaggi e comunicazioni</li>
        </ul>

        <h3>Informazioni raccolte automaticamente:</h3>
        <ul>
          <li>Indirizzo IP</li>
          <li>Tipo di browser e dispositivo</li>
          <li>Pagine visitate e tempo di permanenza</li>
          <li>Referral URL</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>2. Come Utilizziamo le Informazioni</h2>
        <ul>
          <li>Fornire e migliorare i nostri servizi</li>
          <li>Comunicare con te riguardo ai nostri servizi</li>
          <li>Inviare aggiornamenti e newsletter (solo con consenso)</li>
          <li>Analizzare l'utilizzo del sito web</li>
          <li>Rispettare gli obblighi legali</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>3. Base Legale per il Trattamento (GDPR)</h2>
        <ul>
          <li><strong>Consenso:</strong> Per newsletter e marketing</li>
          <li><strong>Interesse legittimo:</strong> Per migliorare i servizi</li>
          <li><strong>Esecuzione contrattuale:</strong> Per fornire i servizi richiesti</li>
          <li><strong>Obbligo legale:</strong> Per rispettare la legge</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>4. I Tuoi Diritti</h2>
        <p>Secondo il GDPR, hai diritto a:</p>
        <ul>
          <li>Accedere ai tuoi dati personali</li>
          <li>Rettificare dati inesatti</li>
          <li>Cancellare i tuoi dati</li>
          <li>Limitare il trattamento</li>
          <li>PortabilitÃ  dei dati</li>
          <li>Opporti al trattamento</li>
          <li>Revocare il consenso</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>5. Sicurezza dei Dati</h2>
        <p>
          Implementiamo misure di sicurezza appropriate per proteggere le tue informazioni personali
          contro accesso non autorizzato, alterazione, divulgazione o distruzione.
        </p>
      </div>

      <div class="content-section">
        <h2>6. Contatti</h2>
        <p>
          Per esercitare i tuoi diritti o per domande sulla privacy, contattaci a:
          <br><strong>Email:</strong> privacy@dcreativo.ch
          <br><strong>Telefono:</strong> +41 76 781 01 94
        </p>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary" onclick="closeModal('privacyModal')">Ho Capito</button>
    </div>
  </div>

  <!-- Terms of Service Modal -->
  <div id="termsModal" class="modal">
    <div class="modal-header">
      <h2 class="modal-title">ð Terms of Service</h2>
      <button class="modal-close" onclick="closeModal('termsModal')">&times;</button>
    </div>
    <div class="modal-body">
      <div class="content-section">
        <h2>Termini e Condizioni di Servizio</h2>
        <p><strong>Ultimo aggiornamento:</strong> 27 Maggio 2025</p>
        <p>
          Questi termini e condizioni ("Termini") regolano l'utilizzo dei servizi offerti da
          DCreativo Web & App Solutions ("Servizi").
        </p>
      </div>

      <div class="content-section">
        <h2>1. Accettazione dei Termini</h2>
        <p>
          Utilizzando i nostri servizi, accetti questi Termini. Se non accetti questi Termini,
          non utilizzare i nostri servizi.
        </p>
      </div>

      <div class="content-section">
        <h2>2. Descrizione dei Servizi</h2>
        <p>DCreativo offre:</p>
        <ul>
          <li>Sviluppo siti web e applicazioni</li>
          <li>Sistemi di prenotazione per barbershop</li>
          <li>E-commerce e soluzioni digitali</li>
          <li>Consulenza tecnica e supporto</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>3. Obblighi del Cliente</h2>
        <ul>
          <li>Fornire informazioni accurate e complete</li>
          <li>Cooperare durante lo sviluppo del progetto</li>
          <li>Rispettare i tempi di pagamento concordati</li>
          <li>Non utilizzare i servizi per scopi illegali</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>4. ProprietÃ  Intellettuale</h2>
        <p>
          Il codice custom sviluppato appartiene al cliente dopo il saldo finale.
          DCreativo mantiene i diritti su framework, librerie e componenti riutilizzabili.
        </p>
      </div>

      <div class="content-section">
        <h2>5. Garanzie e Limitazioni</h2>
        <ul>
          <li>Garanzia 12 mesi su bug e malfunzionamenti</li>
          <li>Non garantiamo specifici risultati di business</li>
          <li>Limitazione di responsabilitÃ  al valore del contratto</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>6. Pagamenti</h2>
        <ul>
          <li>Acconto 50% all'inizio del progetto</li>
          <li>Saldo 50% alla consegna</li>
          <li>Termini di pagamento: 30 giorni</li>
          <li>Penale di mora: 5% mensile</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>7. Risoluzione delle Controversie</h2>
        <p>
          Eventuali controversie saranno risolte secondo la legge svizzera,
          con foro competente presso i tribunali di Lugano, Ticino.
        </p>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary" onclick="closeModal('termsModal')">Ho Capito</button>
    </div>
  </div>

  <!-- Cookie Policy Modal -->
  <div id="cookieModal" class="modal">
    <div class="modal-header">
      <h2 class="modal-title">ðª Cookie Policy</h2>
      <button class="modal-close" onclick="closeModal('cookieModal')">&times;</button>
    </div>
    <div class="modal-body">
      <div class="content-section">
        <h2>Informativa sui Cookie</h2>
        <p><strong>Ultimo aggiornamento:</strong> 27 Maggio 2025</p>
        <p>
          Questa Cookie Policy spiega cosa sono i cookie, come li utilizziamo e le tue opzioni
          per gestirli sul nostro sito web.
        </p>
      </div>

      <div class="content-section">
        <h2>Cosa sono i Cookie</h2>
        <p>
          I cookie sono piccoli file di testo che vengono salvati sul tuo dispositivo quando
          visiti un sito web. Permettono al sito di ricordare le tue azioni e preferenze.
        </p>
      </div>

      <div class="content-section">
        <h2>Tipi di Cookie che Utilizziamo</h2>

        <h3>ð§ Cookie Necessari</h3>
        <p>
          Essenziali per il funzionamento del sito. Non possono essere disabilitati.
        </p>
        <ul>
          <li>Cookie di sessione per la navigazione</li>
          <li>Cookie per le preferenze sui cookie</li>
          <li>Cookie per la sicurezza del sito</li>
        </ul>

        <h3>ð Cookie Analitici</h3>
        <p>
          Ci aiutano a capire come i visitatori utilizzano il sito web.
        </p>
        <ul>
          <li>Google Analytics (anonimizzato)</li>
          <li>Statistiche di utilizzo</li>
          <li>Performance del sito</li>
        </ul>

        <h3>ð¯ Cookie di Marketing</h3>
        <p>
          Utilizzati per mostrare pubblicitÃ  personalizzata.
        </p>
        <ul>
          <li>Facebook Pixel</li>
          <li>Google Ads</li>
          <li>Retargeting personalizzato</li>
        </ul>

        <h3>ð Cookie di Terze Parti</h3>
        <p>
          Servizi esterni integrati nel nostro sito.
        </p>
        <ul>
          <li>YouTube (video embedded)</li>
          <li>Google Maps</li>
          <li>Social media widgets</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>Come Gestire i Cookie</h2>
        <p>
          Puoi controllare e gestire i cookie attraverso le impostazioni del tuo browser
          o utilizzando il nostro centro preferenze cookie.
        </p>

        <h3>Impostazioni Browser:</h3>
        <ul>
          <li><strong>Chrome:</strong> Impostazioni > Privacy e sicurezza > Cookie</li>
          <li><strong>Firefox:</strong> Opzioni > Privacy e sicurezza</li>
          <li><strong>Safari:</strong> Preferenze > Privacy</li>
          <li><strong>Edge:</strong> Impostazioni > Privacy, ricerca e servizi</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>Durata dei Cookie</h2>
        <ul>
          <li><strong>Cookie di sessione:</strong> Cancellati alla chiusura del browser</li>
          <li><strong>Cookie persistenti:</strong> Rimangono per il periodo specificato</li>
          <li><strong>Cookie analitici:</strong> 2 anni</li>
          <li><strong>Cookie marketing:</strong> 1 anno</li>
        </ul>
      </div>

      <div class="content-section">
        <h2>Contatti</h2>
        <p>
          Per domande sui cookie, contattaci a: <strong>privacy@dcreativo.ch</strong>
        </p>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary" onclick="closeModal('cookieModal')">Ho Capito</button>
    </div>
  </div>

  <!-- Cookie Settings Modal -->
  <div id="cookieSettingsModal" class="modal">
    <div class="modal-header">
      <h2 class="modal-title">âï¸ Impostazioni Cookie</h2>
      <button class="modal-close" onclick="closeModal('cookieSettingsModal')">&times;</button>
    </div>
    <div class="modal-body">
      <div class="content-section">
        <h2>Personalizza le tue Preferenze Cookie</h2>
        <p>
          Gestisci le tue preferenze sui cookie per categoria. I cookie necessari sono sempre attivi.
        </p>
      </div>

      <!-- Cookie Categories -->
      <div class="cookie-categories">

        <!-- Necessary Cookies -->
        <div class="cookie-category">
          <div class="cookie-category-header" onclick="toggleCategory('necessary')">
            <div class="cookie-category-title">
              ð§ Cookie Necessari
              <span class="status-indicator status-required">Sempre Attivi</span>
            </div>
            <div class="cookie-category-toggle">
              <label class="toggle-switch">
                <input type="checkbox" id="necessary-toggle" checked disabled>
                <span class="toggle-slider"></span>
              </label>
              <span class="toggle-arrow">â¼</span>
            </div>
          </div>
          <div class="cookie-category-content">
            <div class="cookie-category-description">
              Questi cookie sono essenziali per il funzionamento del sito web e non possono essere disabilitati.
              Sono solitamente impostati in risposta alle tue azioni come la richiesta di servizi,
              l'impostazione delle preferenze sulla privacy o la compilazione di moduli.
            </div>
            <div class="cookie-list">
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>cookie_consent</h4>
                  <p>Memorizza le tue preferenze sui cookie</p>
                </div>
                <span class="status-indicator status-active">Attivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>session_id</h4>
                  <p>Mantiene la sessione durante la navigazione</p>
                </div>
                <span class="status-indicator status-active">Attivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>csrf_token</h4>
                  <p>Protezione contro attacchi CSRF</p>
                </div>
                <span class="status-indicator status-active">Attivo</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Analytics Cookies -->
        <div class="cookie-category">
          <div class="cookie-category-header" onclick="toggleCategory('analytics')">
            <div class="cookie-category-title">
              ð Cookie Analitici
              <span class="status-indicator status-inactive" id="analytics-status">Disattivati</span>
            </div>
            <div class="cookie-category-toggle">
              <label class="toggle-switch">
                <input type="checkbox" id="analytics-toggle" onchange="updateCookieStatus('analytics')">
                <span class="toggle-slider"></span>
              </label>
              <span class="toggle-arrow">â¼</span>
            </div>
          </div>
          <div class="cookie-category-content">
            <div class="cookie-category-description">
              Questi cookie ci permettono di contare le visite e le fonti di traffico per misurare
              e migliorare le prestazioni del nostro sito. Ci aiutano a sapere quali pagine sono
              piÃ¹ o meno popolari e a vedere come i visitatori si muovono nel sito.
            </div>
            <div class="cookie-list">
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>_ga</h4>
                  <p>Google Analytics - Identifica gli utenti unici</p>
                </div>
                <span class="status-indicator status-inactive" id="ga-status">Disattivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>_ga_*</h4>
                  <p>Google Analytics 4 - Raccolta dati analytics</p>
                </div>
                <span class="status-indicator status-inactive" id="ga4-status">Disattivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>_gid</h4>
                  <p>Google Analytics - Identifica gli utenti unici (24h)</p>
                </div>
                <span class="status-indicator status-inactive" id="gid-status">Disattivo</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Marketing Cookies -->
        <div class="cookie-category">
          <div class="cookie-category-header" onclick="toggleCategory('marketing')">
            <div class="cookie-category-title">
              ð¯ Cookie di Marketing
              <span class="status-indicator status-inactive" id="marketing-status">Disattivati</span>
            </div>
            <div class="cookie-category-toggle">
              <label class="toggle-switch">
                <input type="checkbox" id="marketing-toggle" onchange="updateCookieStatus('marketing')">
                <span class="toggle-slider"></span>
              </label>
              <span class="toggle-arrow">â¼</span>
            </div>
          </div>
          <div class="cookie-category-content">
            <div class="cookie-category-description">
              Questi cookie sono utilizzati dalle societÃ  pubblicitarie per creare un profilo
              dei tuoi interessi e mostrarti annunci pertinenti su altri siti. Funzionano
              identificando in modo univoco il tuo browser e il tuo dispositivo.
            </div>
            <div class="cookie-list">
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>_fbp</h4>
                  <p>Facebook Pixel - Tracciamento conversioni</p>
                </div>
                <span class="status-indicator status-inactive" id="fbp-status">Disattivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>_gcl_au</h4>
                  <p>Google Ads - Conversioni e remarketing</p>
                </div>
                <span class="status-indicator status-inactive" id="gcl-status">Disattivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>test_cookie</h4>
                  <p>Google Ads - Test supporto cookie</p>
                </div>
                <span class="status-indicator status-inactive" id="test-status">Disattivo</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Functional Cookies -->
        <div class="cookie-category">
          <div class="cookie-category-header" onclick="toggleCategory('functional')">
            <div class="cookie-category-title">
              â¡ Cookie Funzionali
              <span class="status-indicator status-inactive" id="functional-status">Disattivati</span>
            </div>
            <div class="cookie-category-toggle">
              <label class="toggle-switch">
                <input type="checkbox" id="functional-toggle" onchange="updateCookieStatus('functional')">
                <span class="toggle-slider"></span>
              </label>
              <span class="toggle-arrow">â¼</span>
            </div>
          </div>
          <div class="cookie-category-content">
            <div class="cookie-category-description">
              Questi cookie consentono al sito web di fornire funzionalitÃ  e personalizzazione
              migliorate. Possono essere impostati da noi o da fornitori di terze parti i cui
              servizi abbiamo aggiunto alle nostre pagine.
            </div>
            <div class="cookie-list">
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>lang_preference</h4>
                  <p>Preferenza lingua selezionata</p>
                </div>
                <span class="status-indicator status-inactive" id="lang-status">Disattivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>theme_mode</h4>
                  <p>ModalitÃ  tema (chiaro/scuro)</p>
                </div>
                <span class="status-indicator status-inactive" id="theme-status">Disattivo</span>
              </div>
              <div class="cookie-item">
                <div class="cookie-item-info">
                  <h4>user_preferences</h4>
                  <p>Preferenze utente personalizzate</p>
                </div>
                <span class="status-indicator status-inactive" id="user-status">Disattivo</span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="resetCookieSettings()">Reset</button>
      <button class="btn btn-primary" onclick="saveCookieSettings()">ð¾ Salva Preferenze</button>
    </div>
  </div>

  <script>
    // Cookie Management System
    class CookieManager {
      constructor() {
        this.cookieSettings = {
          necessary: true,
          analytics: false,
          marketing: false,
          functional: false
        };

        this.initializeSystem();
      }

      initializeSystem() {
        // Check if user has already made cookie choices
        const existingConsent = this.getCookie('cookie_consent');

        if (!existingConsent) {
          // Show banner if no consent exists
          this.showCookieBanner();
        } else {
          // Load existing preferences
          try {
            this.cookieSettings = JSON.parse(existingConsent);
            this.applyCookieSettings();
          } catch (e) {
            this.showCookieBanner();
          }
        }

        // Initialize modal functionality
        this.initializeModals();
      }

      showCookieBanner() {
        setTimeout(() => {
          const banner = document.getElementById('cookieBanner');
          if (banner) {
            banner.classList.add('show');
          }
        }, 1000);
      }

      hideCookieBanner() {
        const banner = document.getElementById('cookieBanner');
        if (banner) {
          banner.classList.remove('show');
        }
      }

      acceptAllCookies() {
        this.cookieSettings = {
          necessary: true,
          analytics: true,
          marketing: true,
          functional: true
        };

        this.saveConsentAndApply();
        this.hideCookieBanner();
        this.showNotification('â Tutti i cookie sono stati accettati', 'success');
      }

      acceptOnlyNecessary() {
        this.cookieSettings = {
          necessary: true,
          analytics: false,
          marketing: false,
          functional: false
        };

        this.saveConsentAndApply();
        this.hideCookieBanner();
        this.showNotification('â Solo i cookie necessari sono stati accettati', 'info');
      }

      saveConsentAndApply() {
        // Save consent to cookie
        this.setCookie('cookie_consent', JSON.stringify(this.cookieSettings), 365);

        // Apply settings
        this.applyCookieSettings();

        // Log consent for compliance
        this.logConsent();
      }

      applyCookieSettings() {
        // Apply analytics cookies
        if (this.cookieSettings.analytics) {
          this.enableGoogleAnalytics();
        } else {
          this.disableGoogleAnalytics();
        }

        // Apply marketing cookies
        if (this.cookieSettings.marketing) {
          this.enableMarketingCookies();
        } else {
          this.disableMarketingCookies();
        }

        // Apply functional cookies
        if (this.cookieSettings.functional) {
          this.enableFunctionalCookies();
        } else {
          this.disableFunctionalCookies();
        }

        // Update UI
        this.updateSettingsUI();
      }

      enableGoogleAnalytics() {
        // Initialize Google Analytics
        if (typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'analytics_storage': 'granted'
          });
        }

        // You can add more analytics initialization here
        console.log('ð Google Analytics enabled');
      }

      disableGoogleAnalytics() {
        if (typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'analytics_storage': 'denied'
          });
        }

        // Remove existing analytics cookies
        this.deleteCookie('_ga');
        this.deleteCookie('_ga_*');
        this.deleteCookie('_gid');

        console.log('ð Google Analytics disabled');
      }

      enableMarketingCookies() {
        // Initialize marketing tools
        if (typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'ad_storage': 'granted'
          });
        }

        // Initialize Facebook Pixel if available
        if (typeof fbq !== 'undefined') {
          fbq('consent', 'grant');
        }

        console.log('ð¯ Marketing cookies enabled');
      }

      disableMarketingCookies() {
        if (typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'ad_storage': 'denied'
          });
        }

        if (typeof fbq !== 'undefined') {
          fbq('consent', 'revoke');
        }

        // Remove marketing cookies
        this.deleteCookie('_fbp');
        this.deleteCookie('_gcl_au');
        this.deleteCookie('test_cookie');

        console.log('ð¯ Marketing cookies disabled');
      }

      enableFunctionalCookies() {
        console.log('â¡ Functional cookies enabled');
      }

      disableFunctionalCookies() {
        this.deleteCookie('lang_preference');
        this.deleteCookie('theme_mode');
        this.deleteCookie('user_preferences');

        console.log('â¡ Functional cookies disabled');
      }

      updateSettingsUI() {
        // Update toggle switches
        document.getElementById('analytics-toggle').checked = this.cookieSettings.analytics;
        document.getElementById('marketing-toggle').checked = this.cookieSettings.marketing;
        document.getElementById('functional-toggle').checked = this.cookieSettings.functional;

        // Update status indicators
        this.updateStatusIndicator('analytics', this.cookieSettings.analytics);
        this.updateStatusIndicator('marketing', this.cookieSettings.marketing);
        this.updateStatusIndicator('functional', this.cookieSettings.functional);

        // Update individual cookie statuses
        this.updateIndividualCookieStatus();
      }

      updateStatusIndicator(category, enabled) {
        const statusElement = document.getElementById(`${category}-status`);
        if (statusElement) {
          statusElement.textContent = enabled ? 'Attivati' : 'Disattivati';
          statusElement.className = `status-indicator ${enabled ? 'status-active' : 'status-inactive'}`;
        }
      }

      updateIndividualCookieStatus() {
        // Analytics cookies
        const analyticsEnabled = this.cookieSettings.analytics;
        this.updateCookieStatus('ga', analyticsEnabled);
        this.updateCookieStatus('ga4', analyticsEnabled);
        this.updateCookieStatus('gid', analyticsEnabled);

        // Marketing cookies
        const marketingEnabled = this.cookieSettings.marketing;
        this.updateCookieStatus('fbp', marketingEnabled);
        this.updateCookieStatus('gcl', marketingEnabled);
        this.updateCookieStatus('test', marketingEnabled);

        // Functional cookies
        const functionalEnabled = this.cookieSettings.functional;
        this.updateCookieStatus('lang', functionalEnabled);
        this.updateCookieStatus('theme', functionalEnabled);
        this.updateCookieStatus('user', functionalEnabled);
      }

      updateCookieStatus(cookieId, enabled) {
        const element = document.getElementById(`${cookieId}-status`);
        if (element) {
          element.textContent = enabled ? 'Attivo' : 'Disattivo';
          element.className = `status-indicator ${enabled ? 'status-active' : 'status-inactive'}`;
        }
      }

      logConsent() {
        const consentData = {
          timestamp: new Date().toISOString(),
          settings: this.cookieSettings,
          userAgent: navigator.userAgent,
          ip: 'anonymized', // In production, you might want to anonymize IP
          url: window.location.href
        };

        // Log to console for development
        console.log('ð Cookie consent logged:', consentData);

        // In production, send to your analytics or compliance system
        // this.sendConsentToServer(consentData);
      }

      sendConsentToServer(consentData) {
        // Example implementation for sending consent data to server
        fetch('/api/cookie-consent', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(consentData)
        }).catch(error => {
          console.error('Failed to log consent:', error);
        });
      }

      // Cookie utilities
      setCookie(name, value, days) {
        const expires = new Date();
        expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
        document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/;SameSite=Lax`;
      }

      getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) === ' ') c = c.substring(1, c.length);
          if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
      }

      deleteCookie(name) {
        document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`;
        // Also try with domain
        const domain = window.location.hostname;
        document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;domain=${domain}`;
        document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;domain=.${domain}`;
      }

      showNotification(message, type = 'info') {
        // Create notification element
        const notification = document.createElement('div');
        notification.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          background: ${type === 'success' ? '#4caf50' : type === 'error' ? '#f44336' : '#2196f3'};
          color: white;
          padding: 16px 24px;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.3);
          z-index: 10000;
          font-weight: 600;
          max-width: 350px;
          animation: slideInRight 0.3s ease-out;
        `;
        notification.textContent = message;

        document.body.appendChild(notification);

        // Remove after 3 seconds
        setTimeout(() => {
          notification.style.animation = 'slideInRight 0.3s ease-out reverse';
          setTimeout(() => {
            document.body.removeChild(notification);
          }, 300);
        }, 3000);
      }

      initializeModals() {
        // Close modals when clicking outside
        document.addEventListener('click', (e) => {
          if (e.target.classList.contains('modal-backdrop')) {
            this.closeAllModals();
          }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            this.closeAllModals();
          }
        });
      }

      openModal(modalId) {
        const modal = document.getElementById(modalId);
        const backdrop = document.getElementById('modalBackdrop');

        if (modal && backdrop) {
          backdrop.classList.add('show');
          modal.classList.add('show');
          document.body.style.overflow = 'hidden';
        }
      }

      closeModal(modalId) {
        const modal = document.getElementById(modalId);
        const backdrop = document.getElementById('modalBackdrop');

        if (modal && backdrop) {
          backdrop.classList.remove('show');
          modal.classList.remove('show');
          document.body.style.overflow = '';
        }
      }

      closeAllModals() {
        const modals = document.querySelectorAll('.modal');
        const backdrop = document.getElementById('modalBackdrop');

        modals.forEach(modal => modal.classList.remove('show'));
        if (backdrop) backdrop.classList.remove('show');
        document.body.style.overflow = '';
      }

      openCookieSettings() {
        this.openModal('cookieSettingsModal');
      }

      toggleCategory(categoryId) {
        const category = document.querySelector(`#cookieSettingsModal .cookie-category:nth-child(${this.getCategoryIndex(categoryId)})`);
        if (category) {
          category.classList.toggle('expanded');
          const arrow = category.querySelector('.toggle-arrow');
          if (arrow) {
            arrow.style.transform = category.classList.contains('expanded') ? 'rotate(180deg)' : 'rotate(0deg)';
          }
        }
      }

      getCategoryIndex(categoryId) {
        const categories = ['necessary', 'analytics', 'marketing', 'functional'];
        return categories.indexOf(categoryId) + 1;
      }

      updateCookieStatusFromToggle(category) {
        const toggle = document.getElementById(`${category}-toggle`);
        if (toggle) {
          this.cookieSettings[category] = toggle.checked;
          this.updateStatusIndicator(category, toggle.checked);
          this.updateIndividualCookieStatus();
        }
      }

      resetCookieSettings() {
        this.cookieSettings = {
          necessary: true,
          analytics: false,
          marketing: false,
          functional: false
        };
        this.updateSettingsUI();
        this.showNotification('âï¸ Impostazioni reimpostate', 'info');
      }

      saveCookieSettings() {
        this.saveConsentAndApply();
        this.closeModal('cookieSettingsModal');
        this.hideCookieBanner();
        this.showNotification('ð¾ Preferenze salvate con successo', 'success');
      }
    }

    // Initialize Cookie Manager
    let cookieManager;

    document.addEventListener('DOMContentLoaded', function() {
      cookieManager = new CookieManager();
    });

    // Global functions for HTML onclick handlers
    function acceptAllCookies() {
      cookieManager.acceptAllCookies();
    }

    function acceptOnlyNecessary() {
      cookieManager.acceptOnlyNecessary();
    }

    function openCookieSettings() {
      cookieManager.openCookieSettings();
    }

    function openModal(modalId) {
      cookieManager.openModal(modalId);
    }

    function closeModal(modalId) {
      cookieManager.closeModal(modalId);
    }

    function closeAllModals() {
      cookieManager.closeAllModals();
    }

    function toggleCategory(categoryId) {
      cookieManager.toggleCategory(categoryId);
    }

    function updateCookieStatus(category) {
      cookieManager.updateCookieStatusFromToggle(category);
    }

    function resetCookieSettings() {
      cookieManager.resetCookieSettings();
    }

    function saveCookieSettings() {
      cookieManager.saveCookieSettings();
    }

    // Google Analytics Consent Mode (if GA is loaded)
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    // Set default consent
    gtag('consent', 'default', {
      'analytics_storage': 'denied',
      'ad_storage': 'denied',
      'functionality_storage': 'denied',
      'personalization_storage': 'denied',
      'security_storage': 'granted',
      'wait_for_update': 500,
    });

    // Additional CSS for animations
    const additionalStyles = `
      @keyframes slideInRight {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }

      .toggle-arrow {
        transition: transform 0.3s ease;
        font-size: 12px;
        color: var(--medium-gray);
      }
    `;

    const styleSheet = document.createElement("style");
    styleSheet.innerText = additionalStyles;
    document.head.appendChild(styleSheet);
  </script>

</body>
</html>
